filebeat.inputs:
  - type: filestream
    id: siga-sigaex-user-request-track
    enabled: true
    paths:
      - ${LOGDIR}"
    parsers:
      - ndjson:
          keys_under_root: true
          overwrite_keys: true
          add_error_key: true
          expand_keys: true

filebeat.config:
  modules:
    path: ${path.config}/modules.d/*.yml
    reload.enabled: false

filebeat.autodiscover:
  providers:
    - type: docker
      hints.enabled: true

processors:
  - timestamp:
      field: json.timeMillis
      layouts:
        - UNIX_MS
        - UNIX

setup.template.overwrite: true
setup.ilm.enabled: false
setup.ilm.policy_name: siga-sigaex-user-request-track
setup.ilm.rollover_alias: siga-sigaex-user-request-track-%{[agent.version]}

setup.template.name: siga-sigaex-user-request-track
setup.template.pattern: siga-sigaex-user-request-track-%{[agent.version]}

output.elasticsearch:
  host: elasticsearch

  index: "siga-sigaex-user-request-track"
